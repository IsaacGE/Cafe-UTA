<!doctype html>
<html lang="en">

<head>
  <%- include('./partials/head') %>
    <link rel="stylesheet" href="assets/css/productsList.css">
</head>

<body>
  <%- include('./partials/nav-bar') %>

    <div class="render-content">
      <div class="container">
        <div class="panel">
          <div class="panel-heading">
            <button class="btn btn-panel" id="btnAddNewProduct" data-bs-toggle="modal" data-bs-target="#largeModal" title="Agregar nuevo producto"><i class="bi bi-plus-square-fill"></i></button>
            <span class="panel-title d-inline-block"><i class="bi bi-list-ul"></i>&nbsp;Listado de productos cargados</span>
          </div>
          <div class="panel-body">
            <table class="dataTable hover table table-striped table-bordered" id="tableProductsManage">
              <thead>
                <tr>
                  <th>Nombre</th>
                  <th>Imagen</th>
                  <th>Stock</th>
                  <th>Precio p/ud</th>
                  <th>Categoría</th>
                  <th>Estatus</th>
                  <th>Acciones</th>
                </tr>
              </thead>
              <tbody>
                <% productsList.forEach(product => { %>
                  <tr>
                    <td> <%= product.name %> </td>
                    <td> <img src="<%= product.imageUrl %>" width="35" alt="..."> </td>
                    <td> <%= product.stock %> </td>
                    <td> <%= product.price %> </td>
                    <td> <%= product.category %> </td>
                    <td>
                      <% if (product.active) { %>
                        <button class="btn button-options-table"><i class="bi bi-check-circle-fill"></i></button>
                        <span class="visually-hidden">1</span>
                        <% } else { %>
                          <button class="btn button-options-table"><i class="bi bi-x-circle-fill"></i></button>
                          <span class="visually-hidden">0</span>
                        <% } %>  
                    </td>
                    <td> <button class="btn button-options-table"><i class="bi bi-trash-fill"></i></button> <button class="btn button-options-table"><i class="bi bi-pencil-square"></i></button> </td>
                  </tr>
                <% }) %> 
              </tbody>
            </table>
          </div>
        </div>

        <div class="search-content">
          <div class="input-group mb-3">
            <input type="text" class="form-control" placeholder="Find a product..." aria-label="Find a product..."
              aria-describedby="button-addon2">
            <button class="btn btn-dark" type="button" id="button-addon2"><i class="bi bi-search"></i></button>
          </div>
        </div>
        <div class="products-list-content">
          <div class="row">
            <% if(productsList && productsList.length> 0) { %>
              <% productsList.forEach(product=> { %>
                <div class="col mb-2 d-flex align-items-stretch">
                  <div class="card">
                    <img src="<%= product.imageUrl %> " class="card-img-top" alt="...">
                    <div class="card-body">
                      <h5 class="card-title">
                        <%= product.name %>
                      </h5>
                      <h4>$ <label>
                          <%= product.price %>
                        </label></h4>
                      <!-- <small class="card-text">This is a longer card with supporting text below as a</small> -->
                      <p class="stock">Cantidad:&nbsp;<strong>
                          <%= product.stock %>
                        </strong></p>
                    </div>
                    <div class="card-footer">
                      <button class="btn"><i class="bi bi-box-seam-fill"></i>&nbsp;Ver más</button>
                      <button class="btn btn-dark"><i class="bi bi-cart4"></i>&nbsp;Añadir</button>
                    </div>
                  </div>
                </div>
                <% }) %>
            <% } else { %>
              <h3>No hay productos en el cátalogo</h3>
              <% } %> 
          </div>
        </div>
      </div>
    </div>

    <%- include('./partials/footer') %>
      <script src="assets/js/scriptsProducts.js"></script>
</body>

</html>